<html>
<head>
    <title>Helpers</title>
    <script src="../../libs/handlebars/4.0.10/handlebars-v4.0.10.js"></script>
    <script src="../../libs/jquery/2.1.3/jquery-2.1.3.min.js"></script>
    <script id="entry-template" type="text/x-handlebars-template">
        <div>
            <h1>By {{fullName author}}</h1>
            <div>{{body}}</div>

            <h1>Comments</h1>

            {{#each comments}}
            <h2>By {{fullName author}}</h2>
            <div>{{body}}</div>
            {{/each}}
        </div>
    </script>
</head>
<body>
<div id="result"></div>
<script>
    var context = {
        author: {
            firstName: "Alan",
            lastName: "Johnson"
        },
        body: "I Love Handlebars",
        comments: [
            {
                author: {
                    firstName: "Yehuda",
                    lastName: "Katz"
                },
                body: "Me too!"
            }
        ]
    };

    Handlebars.registerHelper('fullName', function (person) {
        return person.firstName + " " + person.lastName;
    });

    var source = $("#entry-template").html();
    var template = Handlebars.compile(source);

    var html = template(context);
    $("#result").html(html);
</script>
</body>
</html>
